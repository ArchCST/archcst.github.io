title: Java x Leetcode [Q:0021]
date: 2020-02-29
updated: 
comments: true
tags:
  - learn
  - leetcode
layout: post
---
{% cq %}
<span style="font-variant: small-caps;">question</span>
合并两个有序链表
{% endcq %}
<!--more-->

# 题目
**编号**：0021
**链接**：[力扣](https://leetcode-cn.com/problems/merge-two-sorted-lists/)
**题目**：合并两个有序链表
**简述**：
* 将两个有序链表合并为一个新的有序链表并返回。新链表是通过拼接给定的两个链表的所有节点组成的。

# 题解(Java)
```java
public class Q0021 {
    // 题中没有明确说明是否允许破坏两个传入的链表，我选择不破坏
    private static ListNode mergeTwoLists(ListNode l1, ListNode l2) {
        // 任意一个参数为 null 直接返回另一个
        if (l1 == null) return l2;
        if (l2 == null) return l1;
        ListNode head; // 最终返回的链接的头节点
        ListNode tail; // 最终返回的链表的尾节点，相当于一个「指针」
        ListNode rest; // 当任意一个传入的链表完成遍历时，指向另一个链表的剩余部分

        // 把 l1 和 l2 中的最小值添加到返回链表中
        if (l1.val <= l2.val) {
            head = new ListNode(l1.val); // 不破坏原有链表
            tail = head;
            l1 = l1.next; // 移动「指针」
            rest = l2; // 给 rest 赋初始值
        } else {
            head = new ListNode(l2.val);
            tail = head;
            l2 = l2.next;
            rest = l1;
        }


        while (l1 != null && l2 != null) {
            // 把 l1 和 l2 这两个「指针」中更小的那个添加到返回链表中
            if (l2.val <= l1.val) {
                tail.next = new ListNode(l2.val);
                tail = tail.next; // 移动返回链表的「指针」
                if ((l2 = l2.next) == null) { // 移动参数链表的指针
                    rest = l1; // 如果 l2 空了，rest 指向 l1 剩下的部分，
                    break;
                }
            } else { // 完全同上
                tail.next = new ListNode(l1.val);
                tail = tail.next;
                if ((l1 = l1.next) == null) {
                    rest = l2;
                    break;
                }
            }
        }

        // 把剩余部分加到返回链表之后，不破坏原有链表
        while (rest != null) {
            tail.next = new ListNode(rest.val);
            tail = tail.next;
            rest = rest.next;
        }

        // 返回头结点
        return head;
    }

    // 测试代码
    public static void main(String[] args) {
        ListNode l1 = new ListNode(1);
        l1.next = new ListNode(2);
        l1.next.next = new ListNode(4);

        ListNode l2 = new ListNode(1);
        l2.next = new ListNode(3);
        l2.next.next = new ListNode(4);

        System.out.print("返回链表: ");
        ListNode ans = mergeTwoLists(l1, l2);
        while (ans != null) {
            System.out.print(ans.val);
            ans = ans.next;
            if (ans != null) {
                System.out.print(" -> ");
            }
        }

        System.out.println();
        System.out.print("原链表l1: ");
        while (l1 != null) {
            System.out.print(l1.val);
            l1 = l1.next;
            if (l1 != null) {
                System.out.print(" -> ");
            }
        }

        System.out.println();
        System.out.print("原链表l2: ");
        while (l2 != null) {
            System.out.print(l2.val);
            l2 = l2.next;
            if (l2 != null) {
                System.out.print(" -> ");
            }
        }
    }
}
```

ListNode 是题目中规定的单链表类，代码如下：
```java
// for Q21
public class ListNode {
    public int val;
    public ListNode next;

    public ListNode(int x) {
        val = x;
    }
}
```