title: Java x Leetcode [Q:0020]
date: 2020-02-28
updated: 
comments: true
tags:
  - learn
  - leetcode
layout: post
---
{% cq %}
<span style="font-variant: small-caps;">question</span>
有效的括号
{% endcq %}
<!--more-->

# 题目
**编号**：0020
**链接**：[力扣](https://leetcode-cn.com/problems/valid-parentheses/)
**题目**：有效的括号
**简述**：
* 给定一个只包括 '('，')'，'{'，'}'，'['，']' 的字符串，判断字符串是否有效。
* 有效字符串需满足：
* 左括号必须用相同类型的右括号闭合。
* 左括号必须以正确的顺序闭合。
* 注意空字符串可被认为是有效字符串。

# 题解(Java)
```java
public class Q0020 {
    private static char pareChar(char c){
        switch (c){
            case '(':
                return ')';
            case '[':
                return ']';
            case '{':
                return '}';
            default:
                return '0';

        }
    }

    private static boolean isValid(String s){
        if (s.length() % 2 != 0) {
            return false;
        }
        StringBuilder sb = new StringBuilder(s);
        int l = sb.length();

        // 核心思路：如果括号是匹配的，那么肯定会有两个相邻的字符是匹配的括号
        // 删掉这两一对匹配的括号后，剩下的括号依旧会有相邻的字符是匹配的括号
        // 如果能删完，那么整个字符串就是匹配的。
        while (l > 0) {
            boolean b = false;
            // 相邻的两个字符如果是匹配的括号则删掉
            for (int i = 0; i < l - 1; i++) {
                if (pareChar(sb.charAt(i)) == sb.charAt(i+1)) { 
                    b = true;
                    sb.delete(i,i+2);
                    l -= 2;
                }
            }

            // while 控制了到达这里时长度一定还 > 0，那么如果没有任何删除动作发生则返回 false
            if (!b) { 
                return false;
            }
        }

        // 全部删完则完成匹配
        return true;
    }

    // 测试代码
    public static void main(String[] args) {
        System.out.println(": " + isValid(""));
        System.out.println("(): " + isValid("()"));
        System.out.println("()[]{}: " + isValid("()[]{}"));
        System.out.println("(]: " + isValid("(]"));
        System.out.println("([)]: " + isValid("([)]"));
        System.out.println("{[]}: " + isValid("{[]}"));
        System.out.println("{][}: " + isValid("{][}"));
        System.out.println("{([[)]]}{}: " + isValid("{([[)]]}{}"));
        System.out.println("{()[]}: " + isValid("{()[]}"));
    }
}
```