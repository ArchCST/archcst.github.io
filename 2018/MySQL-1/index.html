<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/uploads/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/uploads/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/uploads/favicon/favicon-16x16.png">
  <link rel="mask-icon" href="/uploads/favicon/safari-pinned-tab.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Sarasa Mono SC,Lato,PingFang SC,Microsoft YaHei,sans-serif;:300,300italic,400,400italic,700,700italic|Sarasa Mono SC, Monaco, Consolas, monospace:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://archcst.me').hostname,
    root: '/',
    scheme: 'Muse',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="MySQL 语句是不区分大小写的，但是为了区分保留字和变量名，一般把保留字大写，变量和数据小写。本文是以前学习 MySQL 时写的，非常基础，内容也比一般的教程更详细一些，基本上操作完本文内容，就对数据库有了一个直观的了解了。">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL 入门指南">
<meta property="og:url" content="http://archcst.me/2018/MySQL-1/index.html">
<meta property="og:site_name" content="ArchCST&#39;s Blog">
<meta property="og:description" content="MySQL 语句是不区分大小写的，但是为了区分保留字和变量名，一般把保留字大写，变量和数据小写。本文是以前学习 MySQL 时写的，非常基础，内容也比一般的教程更详细一些，基本上操作完本文内容，就对数据库有了一个直观的了解了。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2018-09-15T16:00:00.000Z">
<meta property="article:modified_time" content="2020-02-10T16:00:00.000Z">
<meta property="article:author" content="ArchCST">
<meta property="article:tag" content="learn">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://archcst.me/2018/MySQL-1/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>MySQL 入门指南 | ArchCST's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta custom-logo">
      <div class="site-meta-headline">
        <a>
          <img class="custom-logo-image" src="/uploads/logo.png" alt="ArchCST's Blog">
        </a>
      </div>

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ArchCST's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-java">

    <a href="/tags/java/" rel="section"><i class="fa fa-fw fa-coffee"></i>爪哇</a>

  </li>
        <li class="menu-item menu-item-learn">

    <a href="/tags/learn/" rel="section"><i class="fa fa-fw fa-mortar-board"></i>学海</a>

  </li>
        <li class="menu-item menu-item-zen">

    <a href="/tags/zen/" rel="section"><i class="fa fa-fw fa-heartbeat"></i>心法</a>

  </li>
        <li class="menu-item menu-item-cheatsheet">

    <a href="/tags/cheatsheet/" rel="section"><i class="fa fa-fw fa-pencil-square"></i>小抄</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://archcst.me/2018/MySQL-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="ArchCST">
      <meta itemprop="description" content="待得秋来九月八，<br>我花开时百花杀。<br>冲天香阵透长安，<br>满城尽带黄金甲。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ArchCST's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          MySQL 入门指南
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-09-16 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-16T00:00:00+08:00">2018-09-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-02-11 00:00:00" itemprop="dateModified" datetime="2020-02-11T00:00:00+08:00">2020-02-11</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2018/MySQL-1/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2018/MySQL-1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>MySQL 语句是不区分大小写的，但是为了区分保留字和变量名，一般把保留字大写，变量和数据小写。<br>本文是以前学习 MySQL 时写的，非常基础，内容也比一般的教程更详细一些，基本上操作完本文内容，就对数据库有了一个直观的了解了。  </p>
<a id="more"></a>

<h1 id="MySQL-的注释方法："><a href="#MySQL-的注释方法：" class="headerlink" title="MySQL 的注释方法："></a>MySQL 的注释方法：</h1><p>学习一门语言必须先学会注释，如果暂时看不懂下面内容，暂时掌握 <code>#</code> 注释即可。  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT 1+1;     # 到本行行尾的注释</span><br><span class="line">mysql&gt; SELECT 1+1;     -- 到本行行尾的注释，"-- "注意空格</span><br><span class="line">mysql&gt; SELECT 1 /* 行间注释 */ + 1;</span><br><span class="line">mysql&gt; SELECT 1+</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">多行</span></span><br><span class="line"><span class="comment">注释</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">1;</span><br></pre></td></tr></table></figure>


<h1 id="安装和启动-MySQL-服务"><a href="#安装和启动-MySQL-服务" class="headerlink" title="安装和启动 MySQL 服务"></a>安装和启动 MySQL 服务</h1><h2 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装 MySQL 服务器端和客户端</span></span><br><span class="line">sudo apt-get install mysql-server</span><br><span class="line">sudo apt-get install mysql-client</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动 MySQL 服务</span></span><br><span class="line">sudo service mysql start</span><br></pre></td></tr></table></figure>

<h2 id="CentOS-7"><a href="#CentOS-7" class="headerlink" title="CentOS 7"></a>CentOS 7</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装 MySQL 的分支 MariaDB</span></span><br><span class="line">sudo yum install mariadb-server mariadb</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动 MariaDB</span></span><br><span class="line">sudo systemctl start mariadb    #启动MariaDB</span><br><span class="line">sudo systemctl stop mariadb     #停止MariaDB</span><br><span class="line">sudo systemctl restart mariadb  #重启MariaDB</span><br><span class="line">sudo systemctl enable mariadb   #设置开机启动</span><br></pre></td></tr></table></figure>

<p>MariaDB 数据库管理系统是 MySQL 的一个分支，主要由开源社区在维护，采用 GPL 授权许可。<br>开发这个分支的原因之一是：甲骨文公司收购了 MySQL 后，有将 MySQL 闭源的潜在风险，因此社区采用分支的方式来避开这个风险。<br>MariaDB 的目的是完全兼容 MySQL，包括 API 和命令行，使之能轻松成为 MySQL 的代替品。  </p>
<h1 id="数据库的基本概念"><a href="#数据库的基本概念" class="headerlink" title="数据库的基本概念"></a>数据库的基本概念</h1><p>数据库：简单来说一般一个软件（特别是和数据有关的软件）会把它所拥有的 <code>所有数据</code><br>放在一个 <code>数据库</code> 中，举个栗子来说，学生信息管理软件就拥有一个数据库，其中包含了<br>所有学生的信息。<br>表：每个数据库都有多张表，每张表都是个二维结构，大概可以把它看成是一张 Excel 的<br>表格。这个 Excel 的每一列对应着数据库的一个 <code>字段</code>，比如学生基本信息表就有字段 <code>学号、姓名、班级</code> 等等。而这个 Excel 表中的每一行都是一条 <code>数据</code>，比如<br><code>0001、杰伦·小眼·周 、三年二班</code> 。可以看到，<code>数据</code> 和 <code>字段</code> 是严格一<br>一对应起来的。</p>
<p>SQL语句分为四种：<br>DDL: Data Definition Language 数据库定义语句<br>DQL: Data Query Language 数据库查询语句<br>DCL: 数据控制语句<br>DML: 数据操纵语句</p>
<h1 id="MySQL-数据库的基本使用方法"><a href="#MySQL-数据库的基本使用方法" class="headerlink" title="MySQL 数据库的基本使用方法"></a>MySQL 数据库的基本使用方法</h1><p>使用 root 登陆数据库管理软件（DBMS: database managment service），注意此 root 并非 Linux 的 root，而是 MySQL 的 root：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 登录本机数据库</span></span><br><span class="line">mysql -u root -p # 回车后提示输入数据库密码</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果是远程数据库需要加 -h</span></span><br><span class="line">mysql -u root -h 服务器ip -p</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果还要指定数据库端口</span></span><br><span class="line">mysql -u root -h 服务器ip -P 服务端口 -p</span><br></pre></td></tr></table></figure>


<p>查看本机数据库：  </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SHOW databases;</span><br></pre></td></tr></table></figure>

<p>连接至其中一个数据库：  </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; USE 数据库名;</span><br></pre></td></tr></table></figure>

<p>出现<code>database changeed</code>即表示连接成功  </p>
<p>查看数据库中的表：  </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SHOW tables;</span><br></pre></td></tr></table></figure>

<p>退出 MySQL ：  </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXIT</span><br></pre></td></tr></table></figure>

<p>删除数据库：  </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; DROP DATABASE 数据库名;</span><br></pre></td></tr></table></figure>

<p>删除数据库中的表：  </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; DROP TABLE 表名;</span><br></pre></td></tr></table></figure>

<h1 id="新建数据库和数据表"><a href="#新建数据库和数据表" class="headerlink" title="新建数据库和数据表"></a>新建数据库和数据表</h1><p>以下代码块中省略 <code>mysql&gt;</code> 提示符。  </p>
<p>创建数据库和连接数据库的语法：  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> 数据库名;</span><br><span class="line"><span class="keyword">USE</span> 数据库名;</span><br></pre></td></tr></table></figure>

<p>实际操作创建并连接一个数据库 <code>db_test</code>：  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> db_test;</span><br><span class="line"><span class="keyword">USE</span> db_test;</span><br></pre></td></tr></table></figure>

<p>在数据库中新建一个表的语法：  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 表名</span><br><span class="line">(</span><br><span class="line">字段名 数据类型(数据长度),</span><br><span class="line">字段名 数据类型(数据长度)，</span><br><span class="line">字段名 数据类型(数据长度)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>新建一张表，表名 <code>users</code>，包含 <code>u_id</code>、<code>u_name</code>、<code>u_phone</code> 三个字段：  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">users</span> (</span><br><span class="line">u_id <span class="built_in">INT</span>(<span class="number">10</span>),</span><br><span class="line">u_name <span class="built_in">CHAR</span>(<span class="number">20</span>),</span><br><span class="line">u_phone <span class="built_in">CHAR</span>(<span class="number">13</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>再建立一张名为 <code>rooms</code> 的表，包含 20 个字符的 <code>r_name</code> 字段和 13 位字符的 <code>r_phone</code> 字段：  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> rooms (</span><br><span class="line">r_name <span class="built_in">CHAR</span>(<span class="number">20</span>),</span><br><span class="line">r_phone <span class="built_in">CHAR</span>(<span class="number">13</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>现在使用 <code>SHOW tables;</code> 检查一下两张表是否建立成功。  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">+<span class="comment">-------------------+</span></span><br><span class="line">| Tables_in_db_test |</span><br><span class="line">+<span class="comment">-------------------+</span></span><br><span class="line">| rooms             |</span><br><span class="line">| users             |</span><br><span class="line">+<span class="comment">-------------------+</span></span><br></pre></td></tr></table></figure>

<h2 id="MySQL-常用的的数据类型"><a href="#MySQL-常用的的数据类型" class="headerlink" title="MySQL 常用的的数据类型"></a>MySQL 常用的的数据类型</h2><table>
<thead>
<tr>
<th>数据类型</th>
<th>字节</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>TINYINT</td>
<td>1</td>
<td></td>
<td>2^8  = 255，带符号减半</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>2</td>
<td></td>
<td>2^16 = 65536</td>
</tr>
<tr>
<td>MEDIUMINT</td>
<td>3</td>
<td></td>
<td>2^24 = 16777215</td>
</tr>
<tr>
<td>INT</td>
<td>4</td>
<td></td>
<td>2^32 Java 中的 int</td>
</tr>
<tr>
<td>BIGINT</td>
<td>8</td>
<td></td>
<td>2^64 Java 中的 long</td>
</tr>
<tr>
<td>FLOAT</td>
<td></td>
<td></td>
<td>单精度浮点数</td>
</tr>
<tr>
<td>DOUBLE</td>
<td></td>
<td></td>
<td>双精度浮点数</td>
</tr>
<tr>
<td>DECIMAL NUMERIC</td>
<td></td>
<td>DECIMAL(4,1)</td>
<td>共4位，小数点后1位，小数点前3位</td>
</tr>
<tr>
<td>ENUM</td>
<td></td>
<td>ENUM(‘a’,’b’,’c’)</td>
<td>枚举，单选</td>
</tr>
<tr>
<td>SET</td>
<td></td>
<td>SET(‘1’,’2’,’3’)</td>
<td>多选</td>
</tr>
<tr>
<td>DATE</td>
<td>3</td>
<td>YYYY-MM-DD</td>
<td>日期</td>
</tr>
<tr>
<td>TIME</td>
<td>3</td>
<td>HH:MM:SS</td>
<td>时间</td>
</tr>
<tr>
<td>DATETIME</td>
<td>8</td>
<td></td>
<td></td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>4</td>
<td></td>
<td>时间戳，一张表只能有一个时间戳列，时间戳能获取当前系统时间</td>
</tr>
<tr>
<td>YEAR</td>
<td></td>
<td>YYYY</td>
<td>年份</td>
</tr>
<tr>
<td>CHAR</td>
<td>n*2</td>
<td>CHAR(10)</td>
<td>定长字符串</td>
</tr>
<tr>
<td>VARCHAR</td>
<td>实际长度+1</td>
<td>VARCHAR(50)</td>
<td>变长字符串，长度不超过255</td>
</tr>
<tr>
<td>TEXT</td>
<td></td>
<td></td>
<td>长文本，还有MEDIUMTEXT、LONGTEXT等，一般用TEXT就行</td>
</tr>
<tr>
<td>BLOB</td>
<td></td>
<td></td>
<td>长二进制数据，如图片、文档附件等</td>
</tr>
<tr>
<td>BIT</td>
<td>1</td>
<td></td>
<td>只能存0或者1，最长64位</td>
</tr>
</tbody></table>
<p>扩展阅读：<a href="https://blog.csdn.net/anxpp/article/details/51284106#comments" target="_blank" rel="noopener">MySQL 中的数据类型介绍 - CSDN博客</a>  </p>
<p>另外就是 INT BIGINT 这些类型也是可以指定长度的，例如 <code>INT(10)</code>，一般与<br><code>ZEROFILL</code> 连用，用来在指定零填充位数。例如数据为1会存为 <code>0000000001</code>。</p>
<h1 id="在数据表中插入数据"><a href="#在数据表中插入数据" class="headerlink" title="在数据表中插入数据"></a>在数据表中插入数据</h1><p>先查看 <code>users</code> 表，可以看到表内目前还没有数据：  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">users</span>;</span><br></pre></td></tr></table></figure>

<p>插入数据的命令格式：  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 表名(字段<span class="number">1</span>,字段<span class="number">2</span>,字段<span class="number">3</span>) <span class="keyword">VALUES</span>(值<span class="number">1</span>,值<span class="number">2</span>,值<span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<p>例如插入以下内容到 <code>users</code>：  </p>
<table>
<thead>
<tr>
<th>u_id</th>
<th>u_name</th>
<th>u_phone</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>Alpha</td>
<td>54321</td>
</tr>
<tr>
<td>2</td>
<td>Bravo</td>
<td>54322</td>
</tr>
<tr>
<td>3</td>
<td>Charlie</td>
<td>54323</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">users</span>(u_id,u_name,u_phone) <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">'Alpha'</span>,<span class="string">'54321'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">users</span>(u_id,u_name,u_phone) <span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">'Bravo'</span>,<span class="string">'54322'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">users</span>(u_id,u_name,u_phone) <span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">'Charlie'</span>,<span class="string">'54323'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以简写为：</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">users</span>(u_id,u_name,u_phone) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>,<span class="string">'Alpha'</span>,<span class="string">'54321'</span>),</span><br><span class="line">(<span class="number">2</span>,<span class="string">'Bravo'</span>,<span class="string">'54322'</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="string">'Charlie'</span>,<span class="string">'54323'</span>);</span><br></pre></td></tr></table></figure>

<p>再使用 <code>SELECT * FROM users;</code> 确认操作是否成功。  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+<span class="comment">------|---------|---------+</span></span><br><span class="line">| u_id | u_name  | u_phone |</span><br><span class="line">+<span class="comment">------|---------|---------+</span></span><br><span class="line">|    1 | Alpha   | 54321   |</span><br><span class="line">|    2 | Bravo   | 54322   |</span><br><span class="line">|    3 | Charlie | 54323   |</span><br><span class="line">+<span class="comment">------|---------|---------+</span></span><br></pre></td></tr></table></figure>

<h1 id="创建-db-gamer-数据库"><a href="#创建-db-gamer-数据库" class="headerlink" title="创建 db_gamer 数据库"></a>创建 db_gamer 数据库</h1><p>在 MySQL 中，我们可以通过使用 <code>source</code> 来引入一个包含 MySQL 代码的文件来操作数据库。  </p>
<p>举个例子，我们要新建一个数据库 <code>db_gamer</code>，这个数据库中有三张表。  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">表 =rooms=，包含房间名称，房间内的游戏机：</span><br><span class="line">+<span class="comment">--------|-----------+</span></span><br><span class="line">| r_room | r_console |</span><br><span class="line">+<span class="comment">--------|-----------+</span></span><br><span class="line">| room1  | Xbox      |</span><br><span class="line">| room2  | Switch    |</span><br><span class="line">| room3  | PS4       |</span><br><span class="line">| room3  | PSP       |</span><br><span class="line">| room4  | Switch    |</span><br><span class="line">+<span class="comment">--------|-----------+</span></span><br><span class="line"></span><br><span class="line">表 =users=，包含用户名，年龄，电话号码和所在房间：</span><br><span class="line">+<span class="comment">------|---------|-------|--------------|--------+</span></span><br><span class="line">| u_id | u_name  | u_age | u_phone      | u_room |</span><br><span class="line">+<span class="comment">------|---------|-------|--------------|--------+</span></span><br><span class="line">|    1 | Alpha   |    25 | 028-87654321 | room2  |</span><br><span class="line">|    2 | Bravo   |    20 | 13888888888  | room2  |</span><br><span class="line">|    3 | Charlie |    66 | 13777777777  | room3  |</span><br><span class="line">|    4 | Delta   |    17 | 13666666666  | room1  |</span><br><span class="line">|    5 | Echo    |    39 | 13555555555  | room4  |</span><br><span class="line">+<span class="comment">------|---------|-------|--------------|--------+</span></span><br><span class="line"></span><br><span class="line">表 =games=，包含每个游戏机对应能玩的游戏，以及该游戏是谁买的：</span><br><span class="line">+<span class="comment">------|-----------|--------|---------+</span></span><br><span class="line">| g_id | g_console | g_game | g_owner |</span><br><span class="line">+<span class="comment">------|-----------|--------|---------+</span></span><br><span class="line">|    1 | XBox      | DMC4   |       2 |</span><br><span class="line">|    2 | Switch    | Zelda  |       3 |</span><br><span class="line">|    3 | Switch    | Mario  |       4 |</span><br><span class="line">|    4 | PS4       | MHW    |       4 |</span><br><span class="line">|    5 | PSP       | MH3G   |       1 |</span><br><span class="line">+<span class="comment">------|-----------|--------|---------+</span></span><br></pre></td></tr></table></figure>

<p>如果手工逐步输入，有写到后面忘了前面的风险，对代码组织也不利。可以通过建立一个 <code>db_gamer.sql</code> 文件来一次性输入完整的代码，再导入 MySQL 即可。  </p>
<p>现在来创建这个文件：  </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/</span><br><span class="line">vim db_gamer.sql</span><br></pre></td></tr></table></figure>

<p>将下列代码写入 <code>db_gamer.sql</code> 中：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"># 创建数据库</span><br><span class="line">CREATE DATABASE db_gamer;</span><br><span class="line">USE db_gamer;</span><br><span class="line"></span><br><span class="line"># 创建三张表</span><br><span class="line">CREATE TABLE rooms (</span><br><span class="line">  r_room CHAR(20) NOT NULL,</span><br><span class="line">  r_console CHAR(20)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">CREATE TABLE users (</span><br><span class="line">  u_id INT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">  u_name CHAR(20) UNIQUE,</span><br><span class="line">  u_age INT,</span><br><span class="line">  u_phone CHAR(12) DEFAULT &#39;028-87654321&#39;,</span><br><span class="line">  u_room CHAR(20)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">CREATE TABLE games (</span><br><span class="line">  g_id INT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">  g_console CHAR(20),</span><br><span class="line">  g_game CHAR(20),</span><br><span class="line">  g_owner INT,</span><br><span class="line">  FOREIGN KEY (g_owner) REFERENCES users(u_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># 插入数据</span><br><span class="line">INSERT INTO rooms(r_room,r_console) VALUES(&#39;room1&#39;,&#39;Xbox&#39;);</span><br><span class="line">INSERT INTO rooms(r_room,r_console) VALUES(&#39;room2&#39;,&#39;Switch&#39;);</span><br><span class="line">INSERT INTO rooms(r_room,r_console) VALUES(&#39;room3&#39;,&#39;PS4&#39;);</span><br><span class="line">INSERT INTO rooms(r_room,r_console) VALUES(&#39;room3&#39;,&#39;PSP&#39;);</span><br><span class="line">INSERT INTO rooms(r_room,r_console) VALUES(&#39;room4&#39;,&#39;Switch&#39;);</span><br><span class="line"></span><br><span class="line">INSERT INTO users(u_name,u_age,u_room) VALUES(&#39;Alpha&#39;,25,&#39;room2&#39;);</span><br><span class="line">INSERT INTO users(u_name,u_age,u_phone,u_room) VALUES(&#39;Bravo&#39;,20,&#39;13888888888&#39;,&#39;room2&#39;);</span><br><span class="line">INSERT INTO users(u_name,u_age,u_phone,u_room) VALUES(&#39;Charlie&#39;,66,&#39;13777777777&#39;,&#39;room3&#39;);</span><br><span class="line">INSERT INTO users(u_name,u_age,u_phone,u_room) VALUES(&#39;Delta&#39;,17,&#39;13666666666&#39;,&#39;room1&#39;);</span><br><span class="line">INSERT INTO users(u_name,u_age,u_phone,u_room) VALUES(&#39;Echo&#39;,39,&#39;13555555555&#39;,&#39;room4&#39;);</span><br><span class="line"></span><br><span class="line">INSERT INTO games(g_console,g_game,g_owner) VALUES(&#39;XBox&#39;,&#39;DMC4&#39;,2);</span><br><span class="line">INSERT INTO games(g_console,g_game,g_owner) VALUES(&#39;Switch&#39;,&#39;Zelda&#39;,3);</span><br><span class="line">INSERT INTO games(g_console,g_game,g_owner) VALUES(&#39;Switch&#39;,&#39;Mario&#39;,4);</span><br><span class="line">INSERT INTO games(g_console,g_game,g_owner) VALUES(&#39;PS4&#39;,&#39;MHW&#39;,4);</span><br><span class="line">INSERT INTO games(g_console,g_game,g_owner) VALUES(&#39;PSP&#39;,&#39;MH3G&#39;,1);</span><br></pre></td></tr></table></figure>

<p>代码中有些不熟悉的内容，先不管它，进入 MySQL 并运行这个文件：  </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql -r root</span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> <span class="built_in">source</span> ~/db_gamer.sql;</span></span><br></pre></td></tr></table></figure>

<p>然后分别查看一下各表内容：  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> rooms;</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">users</span>;</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> games;</span><br></pre></td></tr></table></figure>

<p>下面的学习都基于这个数据库。  </p>
<h2 id="双减号和井号的区别"><a href="#双减号和井号的区别" class="headerlink" title="双减号和井号的区别"></a>双减号和井号的区别</h2><p>很多人不知道 <code>--</code> 和 <code>#</code> 的区别，写 SQL 文件这里可以很好的说明问题：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建三张表 （这里可以用#号，因为这条语句到这里就结束了）</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> rooms (</span><br><span class="line">  r_room <span class="built_in">CHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>, <span class="comment">-- 这里只能用双减号，因为实际下面两行代码仍然属于同一行 SQL 代码，用井号会把这条语句截断。</span></span><br><span class="line">  r_console <span class="built_in">CHAR</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h1 id="SQL-约束-Constraint"><a href="#SQL-约束-Constraint" class="headerlink" title="SQL 约束 Constraint"></a>SQL 约束 Constraint</h1><p>使用 <code>cat -n ~/db_gamer.sql</code> 查看代码内容，<code>-n</code> 参数表示列印出行号，下面讲解为了方便会使用行号表述。  </p>
<p>代码中你所不熟悉的内容统统称之为<strong>约束</strong>，约束是一种限制，它对表的数据做出限制，来确数据的完整和表之间的关系。  </p>
<table>
<thead>
<tr>
<th>PRIMARY KEY</th>
<th>FOREIGN KEY</th>
<th>DEFAULT</th>
<th>UNIQUE</th>
<th>NOT NULL</th>
<th>AUTO_INCREMENT</th>
</tr>
</thead>
<tbody><tr>
<td>主键</td>
<td>外键</td>
<td>默认值</td>
<td>唯一</td>
<td>非空</td>
<td>自增</td>
</tr>
</tbody></table>
<h2 id="主键-PRIMARY-KEY"><a href="#主键-PRIMARY-KEY" class="headerlink" title="主键 (PRIMARY KEY)"></a>主键 (PRIMARY KEY)</h2><p>第 12 行定义了主键  </p>
<p>主键用于约束表中的一行，作为这一行的唯一标识符，在一张表中通过主键就能准确定位到一行。  </p>
<p>主键不能有重复且不能为空。  </p>
<h2 id="联合主键和复合主键"><a href="#联合主键和复合主键" class="headerlink" title="联合主键和复合主键"></a>联合主键和复合主键</h2><p><a href="https://blog.csdn.net/u011781521/article/details/71083112" target="_blank" rel="noopener">联合主键和复合主键</a></p>
<h2 id="外键-FOREIGN-KEY"><a href="#外键-FOREIGN-KEY" class="headerlink" title="外键 (FOREIGN KEY)"></a>外键 (FOREIGN KEY)</h2><p>第 24 行定义了外键  </p>
<p>外键主要体现表之间的关系，一个表可以有多个外键。  </p>
<p>每个外键必须 REFERENCES (参考) 另一个表的主键，被外键约束的列，取值必须在它参考的列中有对应值。  </p>
<p>在 <code>INSERT</code> 时，如果被外键约束的值没有在参考列中有对应，则操作失败。  </p>
<p>第 24 行意为 games 表中的 g_owner 字段必须参考 users 表中的 u_id 字段。  </p>
<h2 id="默认值-DEFAULT"><a href="#默认值-DEFAULT" class="headerlink" title="默认值 (DEFAULT)"></a>默认值 (DEFAULT)</h2><p>第 15 行定义了默认值  </p>
<p>有 <code>DEFAULT</code> 约束的字段，使用 <code>INSERT</code> 命令插入数据为空时，填入默认值。  </p>
<p>参考第 34 行，我们没有给用户 Alpha 写入 u_phone，那么他的 u_phone 就应该是 DEFAULT 定义的 “028-87654321”：  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ariaDB [db_gamer]&gt; SELECT * FROM users;</span><br><span class="line">+<span class="comment">------|---------|-------|--------------|--------+</span></span><br><span class="line">| u_id | u_name  | u_age | u_phone      | u_room |</span><br><span class="line">+<span class="comment">------|---------|-------|--------------|--------+</span></span><br><span class="line">|    1 | Alpha   |    25 | 028-87654321 | room2  |</span><br><span class="line">|    2 | Bravo   |    20 | 13888888888  | room2  |</span><br><span class="line">|    3 | Charlie |    66 | 13777777777  | room3  |</span><br><span class="line">|    4 | Delta   |    17 | 13666666666  | room1  |</span><br><span class="line">|    5 | Echo    |    39 | 13555555555  | room4  |</span><br><span class="line">+<span class="comment">------|---------|-------|--------------|--------+</span></span><br></pre></td></tr></table></figure>

<h2 id="唯一约束-UNIQUE"><a href="#唯一约束-UNIQUE" class="headerlink" title="唯一约束 (UNIQUE)"></a>唯一约束 (UNIQUE)</h2><p>第 13 行定义了唯一约束  </p>
<p><code>UNIQUE</code> 约束的字段的值不能有重复。当 <code>INSERT</code> 数据重复时，会操作失败。  </p>
<p>和 <code>PRIMARY KEY</code> 相比，一张表可以有很多个唯一约束，但只能有一个主键。唯一约束允<br>许 null，但主键不行。</p>
<h2 id="非空约束-NOT-NULL"><a href="#非空约束-NOT-NULL" class="headerlink" title="非空约束 (NOT NULL)"></a>非空约束 (NOT NULL)</h2><p>第 7 行定义了非空约束  </p>
<p>被非空约束的列，在插入值时必须非空。  </p>
<h2 id="自增-AUTO-INCREMENT"><a href="#自增-AUTO-INCREMENT" class="headerlink" title="自增 (AUTO_INCREMENT)"></a>自增 (AUTO_INCREMENT)</h2><p>第 12、20 行定义了自增  </p>
<p>在第 34 ~ 38 行 <code>INSERT INTO users</code> 的时候，代码中并没有写入 <code>u_id</code> 的值，但表中自动为五个用户写入了 <code>u_id</code> 1、2、3、4、5，就是因为我们写入了自增约束  </p>
<p>第 40 ~ 44 行 <code>INSERT INTO games</code> 也是同理。</p>
<h3 id="自增起始值"><a href="#自增起始值" class="headerlink" title="自增起始值"></a>自增起始值</h3><p>自增字段是可以从某一个号码开始的，比如QQ号最少五位，那么可以这么设计</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">user</span>(</span><br><span class="line"><span class="keyword">id</span> <span class="built_in">BIGINT</span> PRIMARY <span class="keyword">KEY</span> AUTO_INCREMENT, <span class="comment">-- QQ 号码</span></span><br><span class="line"><span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>), <span class="comment">-- 网名</span></span><br><span class="line">) AUTO_INCREMENT=<span class="number">10001</span>; <span class="comment">-- 定义起始值，第一个注册的用户是10001</span></span><br></pre></td></tr></table></figure>

<p>也可以在设计完成后补录这个起始值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> <span class="keyword">SET</span> AUTO_INCREMENT=<span class="number">10001</span>;</span><br></pre></td></tr></table></figure>


<h1 id="SELECT"><a href="#SELECT" class="headerlink" title="SELECT"></a>SELECT</h1><h2 id="SELECT-基本语法"><a href="#SELECT-基本语法" class="headerlink" title="SELECT 基本语法"></a>SELECT 基本语法</h2><p>语法：  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 列名 <span class="keyword">FROM</span> 表名 <span class="keyword">WHERE</span> 条件;</span><br></pre></td></tr></table></figure>

<p>例子：  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 例1：查看 users 表内的所有内容：</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">users</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例2：查看 users 表内的用户和年龄：</span></span><br><span class="line"><span class="keyword">SELECT</span> u_name,u_age <span class="keyword">FROM</span> <span class="keyword">users</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例3：通过 WHERE 查看 users 表内年龄大于 20 的用户：</span></span><br><span class="line"><span class="keyword">SELECT</span> u_name,u_age <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_age&gt;<span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例4：通过 WHERE 查看用户 Bravo 的年龄、电话：</span></span><br><span class="line"><span class="keyword">SELECT</span> u_name,u_age,u_phone <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_name=<span class="string">'Bravo'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例5：WHERE 后可以用 AND 和 OR：</span></span><br><span class="line"><span class="keyword">SELECT</span> u_name,u_age <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_age&lt;<span class="number">20</span> <span class="keyword">OR</span> u_age&gt;<span class="number">30</span>;</span><br><span class="line"><span class="keyword">SELECT</span> u_name,u_age <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_age&gt;<span class="number">20</span> <span class="keyword">AND</span> u_age&lt;<span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例6：也可以用 BETWEEN：</span></span><br><span class="line"><span class="keyword">SELECT</span> u_name,u_age <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_age <span class="keyword">BETWEEN</span> <span class="number">20</span> <span class="keyword">AND</span> <span class="number">30</span>;</span><br><span class="line"><span class="comment"># 注意使用 BETWEEN 的时候是包含参数的，所以 20 岁的 Bravo 也被列了出来</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 例7：还可以用 IN 和 NOT IN 确定范围：</span></span><br><span class="line"><span class="keyword">SELECT</span> u_name,u_room <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_room <span class="keyword">IN</span> (<span class="string">'room1'</span>,<span class="string">'room2'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例8：用 AS 可以更改字段的显示名称</span></span><br><span class="line"><span class="keyword">SELECT</span> u_name <span class="keyword">AS</span> Username,u_room <span class="keyword">AS</span> Roomname <span class="keyword">FROM</span> <span class="keyword">users</span>;</span><br></pre></td></tr></table></figure>
<h2 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h2><p>单行子查询非常简单：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 找出哪些游戏是 Delta 买的：</span></span><br><span class="line"><span class="keyword">SELECT</span> g_game <span class="keyword">FROM</span> games <span class="keyword">WHERE</span> g_owner=(<span class="keyword">SELECT</span> u_id <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_name=<span class="string">'Delta'</span>);</span><br></pre></td></tr></table></figure>

<p>如果子查询返回的结果为多条数据，就称之为 <code>多行子查询</code> ，多行子查询需要在比较符和子查询语句之间插入关键字 <code>ALL</code> <code>SOME</code> <code>ANY</code>。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ALL: 与子查询返回的列中的 所有 数值进行比较，如果比较结果为true，则返回。</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_age &gt; <span class="keyword">ALL</span>(<span class="keyword">SELECT</span> u_age <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_name=<span class="string">'Alpha'</span> <span class="keyword">OR</span> u_name=<span class="string">'Delta'</span>);</span><br><span class="line"></span><br><span class="line">+<span class="comment">------+---------+-------+-------------+--------+</span></span><br><span class="line">| u_id | u_name  | u_age | u_phone     | u_room |</span><br><span class="line">+<span class="comment">------+---------+-------+-------------+--------+</span></span><br><span class="line">|    3 | Charlie |    66 | 13777777777 | room3  |</span><br><span class="line">|    5 | Echo    |    39 | 13555555555 | room4  |</span><br><span class="line">+<span class="comment">------+---------+-------+-------------+--------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ANY: 与子查询返回的列中的 任一 数值进行比较，如果比较结果为true，则返回。</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_age &gt; <span class="keyword">ANY</span>(<span class="keyword">SELECT</span> u_age <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_name=<span class="string">'Alpha'</span> <span class="keyword">OR</span> u_name=<span class="string">'Delta'</span>);</span><br><span class="line"></span><br><span class="line">+<span class="comment">------+---------+-------+--------------+--------+</span></span><br><span class="line">| u_id | u_name  | u_age | u_phone      | u_room |</span><br><span class="line">+<span class="comment">------+---------+-------+--------------+--------+</span></span><br><span class="line">|    1 | Alpha   |    25 | 028-87654321 | room2  |</span><br><span class="line">|    2 | Bravo   |    20 | 13888888888  | room2  |</span><br><span class="line">|    3 | Charlie |    66 | 13777777777  | room3  |</span><br><span class="line">|    5 | Echo    |    39 | 13555555555  | room4  |</span><br><span class="line">+<span class="comment">------+---------+-------+--------------+--------+</span></span><br></pre></td></tr></table></figure>

<p>另外 <code>SOME</code> 就是 <code>ANY</code> 的别名。</p>
<h2 id="LIKE-通配符"><a href="#LIKE-通配符" class="headerlink" title="LIKE + 通配符"></a>LIKE + 通配符</h2><table>
<thead>
<tr>
<th>通配符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>_</code></td>
<td>表示一个字符</td>
</tr>
<tr>
<td><code>%</code></td>
<td>表示0个或多个字符</td>
</tr>
</tbody></table>
<p>例子：  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 例1：查看所有 C 开头用户的电话号码：</span></span><br><span class="line"><span class="keyword">SELECT</span> u_name,u_phone <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_name <span class="keyword">LIKE</span> <span class="string">'C%'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例2：'%'的结果集中也包含"0个"</span></span><br><span class="line"><span class="keyword">SELECT</span> u_name,u_phone <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_name <span class="keyword">LIKE</span> <span class="string">'Charlie%'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例3：查看所有 B 开头并且名字为 5 位的用户的电话号码：</span></span><br><span class="line"><span class="keyword">SELECT</span> u_name,u_phone <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_name <span class="keyword">LIKE</span> <span class="string">'B____'</span>;</span><br></pre></td></tr></table></figure>

<h2 id="DISTINCT"><a href="#DISTINCT" class="headerlink" title="DISTINCT"></a>DISTINCT</h2><p>只列出不重复的值，例如要统计所有房间中总共有几种游戏机：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span>(g_console) <span class="keyword">FROM</span> games;</span><br><span class="line"></span><br><span class="line">+<span class="comment">-----------+</span></span><br><span class="line">| g_console |</span><br><span class="line">+<span class="comment">-----------+</span></span><br><span class="line">| XBox      |</span><br><span class="line">| Switch    |</span><br><span class="line">| PS4       |</span><br><span class="line">| PSP       |</span><br><span class="line">+<span class="comment">-----------+</span></span><br></pre></td></tr></table></figure>

<h2 id="排序-ORDER-BY"><a href="#排序-ORDER-BY" class="headerlink" title="排序 ORDER BY"></a>排序 ORDER BY</h2><table>
<thead>
<tr>
<th>排序方式</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>ASC</td>
<td>升序</td>
</tr>
<tr>
<td>DESC</td>
<td>降序</td>
</tr>
</tbody></table>
<p>默认使用升序排列。  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 例1：按年龄升序排序，这里用的默认，也可以加入 AES 明确</span></span><br><span class="line"><span class="keyword">SELECT</span> u_name,u_age <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> u_age;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例1：按年龄降序排序</span></span><br><span class="line"><span class="keyword">SELECT</span> u_name,u_age <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> u_age <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>

<h2 id="SQL-聚合函数"><a href="#SQL-聚合函数" class="headerlink" title="SQL 聚合函数"></a>SQL 聚合函数</h2><table>
<thead>
<tr>
<th>计数</th>
<th>求和</th>
<th>平均值</th>
<th>最大值</th>
<th>最小值</th>
</tr>
</thead>
<tbody><tr>
<td>COUNT</td>
<td>SUM</td>
<td>AVG</td>
<td>MAX</td>
<td>MIN</td>
</tr>
</tbody></table>
<p>例子：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 例1：从 u_age 中取得最大最小两个值</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MAX</span>(u_age),<span class="keyword">MIN</span>(u_age) <span class="keyword">FROM</span> <span class="keyword">users</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例2：取得 users 表中年龄最大的用户的姓名和电话：</span></span><br><span class="line"><span class="keyword">SELECT</span> u_name,<span class="keyword">MAX</span>(u_age),u_phone <span class="keyword">FROM</span> <span class="keyword">users</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例3：计算有多少用户没有填写年龄：</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(u_name)-<span class="keyword">COUNT</span>(u_age) <span class="keyword">FROM</span> <span class="keyword">users</span>; <span class="comment">-- 注意这里 COUNT 是对 u_age 计数，而不是对 u_age 的值进行计算</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 例4：计算用户年龄平均值：</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">AVG</span>(u_age) <span class="keyword">FROM</span> <span class="keyword">users</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例5：找出字母排序名字"最小"和"最大"的用户：</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MIN</span>(u_name),<span class="keyword">MAX</span>(u_name) <span class="keyword">FROM</span> <span class="keyword">users</span>;</span><br><span class="line"><span class="comment"># MAX 和 MIN 可用于数字、字符串和日期时间数据类型</span></span><br></pre></td></tr></table></figure>

<h2 id="分组：GROUP-BY"><a href="#分组：GROUP-BY" class="headerlink" title="分组：GROUP BY"></a>分组：GROUP BY</h2><p>根据一个字段分组，SELECT后面只能跟分组字段和统计函数。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 例1：计算每个 room 中有多少人</span></span><br><span class="line"><span class="keyword">SELECT</span> u_room,<span class="keyword">count</span>(u_name) <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> u_room;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例2：计算哪些房间里面有30岁以下的人，分别有多少个</span></span><br><span class="line"><span class="keyword">SELECT</span> u_room,<span class="keyword">count</span>(u_name) <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_age&lt; <span class="number">30</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> u_room; <span class="comment">-- 如果要筛选，应该先筛选再分组</span></span><br></pre></td></tr></table></figure>

<h2 id="HAVING-和-WHERE-的区别"><a href="#HAVING-和-WHERE-的区别" class="headerlink" title="HAVING 和 WHERE 的区别"></a>HAVING 和 WHERE 的区别</h2><p>问：Charlie 可以玩几种游戏机？</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 代码1：</span></span><br><span class="line"><span class="keyword">SELECT</span> r_room,<span class="keyword">COUNT</span>(r_console) <span class="keyword">FROM</span> rooms <span class="keyword">WHERE</span> r_room=(<span class="keyword">SELECT</span> u_room <span class="keyword">FROM</span> usersWHERE u_name=<span class="string">'Charlie'</span>) <span class="keyword">GROUP</span> <span class="keyword">BY</span> r_room;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 代码2：</span></span><br><span class="line"><span class="keyword">SELECT</span> r_room,<span class="keyword">COUNT</span>(r_console) <span class="keyword">FROM</span> rooms <span class="keyword">GROUP</span> <span class="keyword">BY</span> r_room <span class="keyword">HAVING</span> r_room <span class="keyword">IN</span> (<span class="keyword">SELECT</span> u_room <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> u_name=<span class="string">'Charlie'</span>);</span><br><span class="line"></span><br><span class="line">+<span class="comment">--------|------------------+</span></span><br><span class="line">| r_room | COUNT(r_console) |</span><br><span class="line">+<span class="comment">--------|------------------+</span></span><br><span class="line">| room3  |                2 |</span><br><span class="line">+<span class="comment">--------|------------------+</span></span><br></pre></td></tr></table></figure>

<p>WHERE 是一个约束声明，使用 WHERE 约束来自数据库的数据，WHERE 是在结果返回之前起作用的，WHERE 中不能使用聚合函数。<br>WHERE 子句在查询过程中执行优先级高于聚合语句。</p>
<p>HAVING 必须在 GROUP BY 之后使用。<br>HAVING 是一个过滤声明，是在查询返回结果集以后对查询结果进行的过滤操作，在 HAVING 中可以使用聚合函数。<br>在查询过程中聚合语句 (SUM,MIN,MAX,AVG,COUNT) 要比 HAVING 语句优先执行。</p>
<p>参考资料：<a href="https://blog.csdn.net/Mark_LQ/article/details/45012955" target="_blank" rel="noopener">Mysql中where与having的区别 - CSDN博客</a>  </p>
<h2 id="连接：JOIN-ON"><a href="#连接：JOIN-ON" class="headerlink" title="连接：JOIN ON"></a>连接：JOIN ON</h2><p>问：每个人分别能玩哪些游戏机？  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 代码1：</span></span><br><span class="line"><span class="keyword">SELECT</span> u_name,r_console <span class="keyword">FROM</span> <span class="keyword">users</span>,rooms <span class="keyword">WHERE</span> users.u_room = rooms.r_room;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 代码2：</span></span><br><span class="line"><span class="keyword">SELECT</span> u_name,r_console <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">JOIN</span> rooms <span class="keyword">ON</span> users.u_room = rooms.r_room;</span><br><span class="line"></span><br><span class="line">+<span class="comment">---------|-----------+</span></span><br><span class="line">| u_name  | r_console |</span><br><span class="line">+<span class="comment">---------|-----------+</span></span><br><span class="line">| Delta   | Xbox      |</span><br><span class="line">| Alpha   | Switch    |</span><br><span class="line">| Bravo   | Switch    |</span><br><span class="line">| Charlie | PS4       |</span><br><span class="line">| Charlie | PSP       |</span><br><span class="line">| Echo    | Switch    |</span><br><span class="line">+<span class="comment">---------|-----------+</span></span><br></pre></td></tr></table></figure>

<p>以上两行代码是等价的。代码2思路更清晰一些。  </p>
<p>使用 JOIN ON 也可以很方便的连接三张以上的表，例如要显示每个人分别能玩哪些游戏机和游戏：  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> u_name,r_console,g_game <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">JOIN</span> rooms <span class="keyword">ON</span> users.u_room = rooms.r_room <span class="keyword">JOIN</span> games <span class="keyword">ON</span> rooms.r_console = games.g_console;</span><br><span class="line"></span><br><span class="line">+<span class="comment">---------|-----------|--------+</span></span><br><span class="line">| u_name  | r_console | g_game |</span><br><span class="line">+<span class="comment">---------|-----------|--------+</span></span><br><span class="line">| Delta   | Xbox      | DMC4   |</span><br><span class="line">| Alpha   | Switch    | Zelda  |</span><br><span class="line">| Bravo   | Switch    | Zelda  |</span><br><span class="line">| Echo    | Switch    | Zelda  |</span><br><span class="line">| Alpha   | Switch    | Mario  |</span><br><span class="line">| Bravo   | Switch    | Mario  |</span><br><span class="line">| Echo    | Switch    | Mario  |</span><br><span class="line">| Charlie | PS4       | MHW    |</span><br><span class="line">| Charlie | PSP       | MH3G   |</span><br><span class="line">+<span class="comment">---------|-----------|--------+</span></span><br></pre></td></tr></table></figure>

<p>也可以进行一些简单的计算，例如：  </p>
<p>要计数每个人分别在哪个房间能玩几种游戏，分别对姓名、房间、游戏数量进行重命名：  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> u_name <span class="keyword">AS</span> <span class="keyword">user</span>,r_room <span class="keyword">AS</span> which_room,<span class="keyword">COUNT</span>(g_game) <span class="keyword">AS</span> how_many_games <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">JOIN</span> rooms <span class="keyword">ON</span> users.u_room = rooms.r_room <span class="keyword">JOIN</span> games <span class="keyword">ON</span> rooms.r_console = games.g_console <span class="keyword">GROUP</span> <span class="keyword">BY</span> u_name <span class="keyword">ORDER</span> <span class="keyword">BY</span> u_name;</span><br><span class="line"></span><br><span class="line">+<span class="comment">---------|------------|----------------+</span></span><br><span class="line">| user    | which_room | how_many_games |</span><br><span class="line">+<span class="comment">---------|------------|----------------+</span></span><br><span class="line">| Alpha   | room2      |              2 |</span><br><span class="line">| Bravo   | room2      |              2 |</span><br><span class="line">| Charlie | room3      |              2 |</span><br><span class="line">| Delta   | room1      |              1 |</span><br><span class="line">| Echo    | room4      |              2 |</span><br><span class="line">+<span class="comment">---------|------------|----------------+</span></span><br></pre></td></tr></table></figure>

<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="日期函数"><a href="#日期函数" class="headerlink" title="日期函数"></a>日期函数</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 当前时间</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">NOW</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取某日期的年、月、日、时、分、秒</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">YEAR</span>(<span class="keyword">NOW</span>());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MONTH</span>(<span class="keyword">NOW</span>());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DAY</span>(<span class="keyword">NOW</span>());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">HOUR</span>(<span class="keyword">NOW</span>());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MINUTE</span>(<span class="keyword">NOW</span>());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SECOND</span>(<span class="keyword">NOW</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment"># 日期与 0000-00-00 之间的天数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">TO_DAYS</span>(<span class="string">'2020-02-13'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"># 日期之间相差的天数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DATEDIFF</span>(<span class="keyword">now</span>(), <span class="string">'2019-12-16'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算从某日期开始之后的日期，INTERVAL后跟时间间隔</span></span><br><span class="line"><span class="keyword">SELECT</span> ADDDATE(<span class="keyword">NOW</span>(), <span class="built_in">INTERVAL</span> <span class="number">1</span> <span class="keyword">YEAR</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算从某日期开始之前的日期，INTERVAL后跟时间间隔</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SUBDATE</span>(<span class="keyword">NOW</span>(), <span class="built_in">INTERVAL</span> <span class="number">1</span> <span class="keyword">YEAR</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取当前时间戳（自 1970-01-01 00:00:00 到现在的毫秒数）</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">UNIX_TIMESTAMP</span>();</span><br></pre></td></tr></table></figure>

<h2 id="格式化时间"><a href="#格式化时间" class="headerlink" title="格式化时间"></a>格式化时间</h2><p>函数 <code>DATE_FORMAT()</code> 接受两个参数，参数1为时间，参数二为格式化字符串。要注意的是<br>分钟是 <code>%i</code>，另外格式化字符串是区分大小写的。大写的情况下返回值会更完整一些。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 全小写的情况</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DATE_FORMAT</span>(<span class="keyword">NOW</span>(), <span class="string">'%y-%m-%d %h:%i:%s'</span>);</span><br><span class="line">+<span class="comment">-----------------------------------------+</span></span><br><span class="line">| DATE_FORMAT(NOW(), '%y-%m-%d %h:%i:%s') |</span><br><span class="line">+<span class="comment">-----------------------------------------+</span></span><br><span class="line">| 20-02-12 04:20:49                       |</span><br><span class="line">+<span class="comment">-----------------------------------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 全大写的情况</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DATE_FORMAT</span>(<span class="keyword">NOW</span>(), <span class="string">'%Y-%M-%D %H:%I:%S'</span>);</span><br><span class="line">+<span class="comment">-----------------------------------------+</span></span><br><span class="line">| DATE_FORMAT(NOW(), '%Y-%M-%D %H:%I:%S') |</span><br><span class="line">+<span class="comment">-----------------------------------------+</span></span><br><span class="line">| 2020-February-12th 16:04:11             |</span><br><span class="line">+<span class="comment">-----------------------------------------+</span></span><br></pre></td></tr></table></figure>
<h1 id="todo-in-和-exists"><a href="#todo-in-和-exists" class="headerlink" title="todo in 和 exists"></a>todo in 和 exists</h1><p>exists 修饰一个子查询，用在where之后，exists所在的表叫外表，子查询所在的表叫内表。<br>运作原理：查外表的所有符合条件的记录，然后依次遍历（loop）每条记录，该记录显示与<br>否取决于内表是否有记录集。<br>如果内表有记录，exists返回true，那么外表的那条记录就会显示。然后继续遍历下一条外<br>表记录。<br>区别在于 in 是子查询返回了一个集合，然后主查询去匹配<br>exists 是用外表的结果集去和内表返回的boolean做判断</p>
<p>为了性能考虑 EXISTS 用于外表记录数小于内表记录数的情况下。<br>IN 则相反，用在子查询记录数小于主查询记录数的情况。</p>
<h1 id="todo-UNION"><a href="#todo-UNION" class="headerlink" title="todo UNION"></a>todo UNION</h1><p>把两条SQL的记录进行合并，一般用在数据统计上。<br>UNION 查出来的会去重<br>UNION ALL 不去重</p>
<h1 id="todo-更改记录"><a href="#todo-更改记录" class="headerlink" title="todo 更改记录"></a>todo 更改记录</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">users</span> <span class="keyword">SET</span> u_phone=<span class="string">"12345"</span> <span class="keyword">WHERE</span> u_name=<span class="string">'Alpha'</span>;</span><br></pre></td></tr></table></figure>

<h1 id="doto-删除记录"><a href="#doto-删除记录" class="headerlink" title="doto 删除记录"></a>doto 删除记录</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> t <span class="keyword">where</span> sname =<span class="string">''</span></span><br></pre></td></tr></table></figure>

<h1 id="doto-GRANT-REVOKE"><a href="#doto-GRANT-REVOKE" class="headerlink" title="doto GRANT REVOKE"></a>doto GRANT REVOKE</h1><p>GRANT 授权，REVOKE 回收权限</p>
<p>授权 root 用户能够远程访问，密码是 root :</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILIEGES <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="string">'root'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'root'</span>;</span><br><span class="line"><span class="comment"># 刷新权限，使其生效</span></span><br><span class="line"><span class="keyword">FLUSH</span> PRIVILIEGES;</span><br></pre></td></tr></table></figure>

<p>其中两个 <code>*</code> ，第一个是库名，第二个是表名或者存储过程名等。</p>
<p>给 tom 所有 test 库的所有权限：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> test.* <span class="keyword">to</span> tom <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">'password'</span>;</span><br></pre></td></tr></table></figure>

<p>授权用户 tom 对 test 库的 user 表 select insert update 的权限：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>,<span class="keyword">INSERT</span>,<span class="keyword">UPDATE</span> <span class="keyword">ON</span> test.user <span class="keyword">TO</span> tom <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'password'</span>;</span><br></pre></td></tr></table></figure>

<p>回收 tom 在 test 库中的所有权限：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> test.* <span class="keyword">FROM</span> tom;</span><br></pre></td></tr></table></figure>




<h1 id="数据库备份"><a href="#数据库备份" class="headerlink" title="数据库备份"></a>数据库备份</h1><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -h 服务器 -P 端口号 -u 用户 -p 库名 &gt; 文件</span><br><span class="line"></span><br><span class="line">mysql -u root -p 库名 &lt; 文件</span><br></pre></td></tr></table></figure>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>ArchCST
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://archcst.me/2018/MySQL-1/" title="MySQL 入门指南">http://archcst.me/2018/MySQL-1/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/learn/" rel="tag"># learn</a>
              <a href="/tags/MySQL/" rel="tag"># MySQL</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2018/iTerm2/" rel="prev" title="Mac OS 下使用 iTerm + Zsh + Oh-My-Zsh 打造完美终端">
      <i class="fa fa-chevron-left"></i> Mac OS 下使用 iTerm + Zsh + Oh-My-Zsh 打造完美终端
    </a></div>
      <div class="post-nav-item">
    <a href="/2018/cs-python-1/" rel="next" title="Cheatsheet Python3 - 基础">
      Cheatsheet Python3 - 基础 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#MySQL-的注释方法："><span class="nav-number">1.</span> <span class="nav-text">MySQL 的注释方法：</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#安装和启动-MySQL-服务"><span class="nav-number">2.</span> <span class="nav-text">安装和启动 MySQL 服务</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Ubuntu"><span class="nav-number">2.1.</span> <span class="nav-text">Ubuntu</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CentOS-7"><span class="nav-number">2.2.</span> <span class="nav-text">CentOS 7</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据库的基本概念"><span class="nav-number">3.</span> <span class="nav-text">数据库的基本概念</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MySQL-数据库的基本使用方法"><span class="nav-number">4.</span> <span class="nav-text">MySQL 数据库的基本使用方法</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#新建数据库和数据表"><span class="nav-number">5.</span> <span class="nav-text">新建数据库和数据表</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL-常用的的数据类型"><span class="nav-number">5.1.</span> <span class="nav-text">MySQL 常用的的数据类型</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#在数据表中插入数据"><span class="nav-number">6.</span> <span class="nav-text">在数据表中插入数据</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#创建-db-gamer-数据库"><span class="nav-number">7.</span> <span class="nav-text">创建 db_gamer 数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#双减号和井号的区别"><span class="nav-number">7.1.</span> <span class="nav-text">双减号和井号的区别</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL-约束-Constraint"><span class="nav-number">8.</span> <span class="nav-text">SQL 约束 Constraint</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#主键-PRIMARY-KEY"><span class="nav-number">8.1.</span> <span class="nav-text">主键 (PRIMARY KEY)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#联合主键和复合主键"><span class="nav-number">8.2.</span> <span class="nav-text">联合主键和复合主键</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#外键-FOREIGN-KEY"><span class="nav-number">8.3.</span> <span class="nav-text">外键 (FOREIGN KEY)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#默认值-DEFAULT"><span class="nav-number">8.4.</span> <span class="nav-text">默认值 (DEFAULT)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#唯一约束-UNIQUE"><span class="nav-number">8.5.</span> <span class="nav-text">唯一约束 (UNIQUE)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#非空约束-NOT-NULL"><span class="nav-number">8.6.</span> <span class="nav-text">非空约束 (NOT NULL)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自增-AUTO-INCREMENT"><span class="nav-number">8.7.</span> <span class="nav-text">自增 (AUTO_INCREMENT)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#自增起始值"><span class="nav-number">8.7.1.</span> <span class="nav-text">自增起始值</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SELECT"><span class="nav-number">9.</span> <span class="nav-text">SELECT</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#SELECT-基本语法"><span class="nav-number">9.1.</span> <span class="nav-text">SELECT 基本语法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#子查询"><span class="nav-number">9.2.</span> <span class="nav-text">子查询</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LIKE-通配符"><span class="nav-number">9.3.</span> <span class="nav-text">LIKE + 通配符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DISTINCT"><span class="nav-number">9.4.</span> <span class="nav-text">DISTINCT</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#排序-ORDER-BY"><span class="nav-number">9.5.</span> <span class="nav-text">排序 ORDER BY</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-聚合函数"><span class="nav-number">9.6.</span> <span class="nav-text">SQL 聚合函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#分组：GROUP-BY"><span class="nav-number">9.7.</span> <span class="nav-text">分组：GROUP BY</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HAVING-和-WHERE-的区别"><span class="nav-number">9.8.</span> <span class="nav-text">HAVING 和 WHERE 的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#连接：JOIN-ON"><span class="nav-number">9.9.</span> <span class="nav-text">连接：JOIN ON</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#函数"><span class="nav-number">10.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#日期函数"><span class="nav-number">10.1.</span> <span class="nav-text">日期函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#格式化时间"><span class="nav-number">10.2.</span> <span class="nav-text">格式化时间</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#todo-in-和-exists"><span class="nav-number">11.</span> <span class="nav-text">todo in 和 exists</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#todo-UNION"><span class="nav-number">12.</span> <span class="nav-text">todo UNION</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#todo-更改记录"><span class="nav-number">13.</span> <span class="nav-text">todo 更改记录</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#doto-删除记录"><span class="nav-number">14.</span> <span class="nav-text">doto 删除记录</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#doto-GRANT-REVOKE"><span class="nav-number">15.</span> <span class="nav-text">doto GRANT REVOKE</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据库备份"><span class="nav-number">16.</span> <span class="nav-text">数据库备份</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="ArchCST"
      src="/uploads/avatar.jpg">
  <p class="site-author-name" itemprop="name">ArchCST</p>
  <div class="site-description" itemprop="description">待得秋来九月八，<br>我花开时百花杀。<br>冲天香阵透长安，<br>满城尽带黄金甲。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">61</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/ArchCST" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ArchCST" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="http://t.me/archcst" title="Telegram → http:&#x2F;&#x2F;t.me&#x2F;archcst" rel="noopener" target="_blank"><i class="fa fa-fw fa-telegram"></i></a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2018 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-motorcycle"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ArchCST</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el: '#valine-comments',
      verify: false,
      notify: false,
      appId: 'fRdrw3LASBz5hfs31n0aFQ9k-gzGzoHsz',
      appKey: '60YcTNfvxGk5yGkkc8o1WhI7',
      placeholder: "ヾﾉ≧∀≦)o 不服来战!",
      avatar: 'mm',
      meta: guest,
      pageSize: '30' || 10,
      visitor: false,
      lang: '' || 'zh-cn',
      path: location.pathname,
      recordIP: false,
      serverURLs: ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
